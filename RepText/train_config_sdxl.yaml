# RepText Arabic Training Configuration - Using SDXL (No Authentication Required)
# Alternative to FLUX.1-dev for immediate training

# Data
data:
  data_dir: "./arabic_training_data"
  image_size: [1024, 1024]
  train_ratio: 0.9
  batch_size: 8  # For 48GB VRAM
  num_workers: 8

# Model - Using Stable Diffusion XL (no gating)
model:
  base_model: "stabilityai/stable-diffusion-xl-base-1.0"
  controlnet_config:
    in_channels: 4  # SDXL uses 4 channels
    num_layers: 4
    attention_head_dim: 128
    
# Training
training:
  num_epochs: 100
  learning_rate: 1.0e-5
  adam_beta1: 0.9
  adam_beta2: 0.999
  adam_weight_decay: 1.0e-2
  adam_epsilon: 1.0e-8
  max_grad_norm: 1.0
  
  # Loss weights
  diffusion_loss_weight: 1.0
  text_perceptual_loss_weight: 0.1
  
  # Learning rate schedule
  lr_scheduler: "constant_with_warmup"
  lr_warmup_steps: 500
  
  # Mixed precision
  mixed_precision: "bf16"
  
  # Gradient accumulation
  gradient_accumulation_steps: 1
  
  # Checkpointing
  save_steps: 500
  eval_steps: 250
  logging_steps: 50
  
# Output
output:
  output_dir: "./output/arabic_reptext_sdxl"
  logging_dir: "./output/arabic_reptext_sdxl/logs"
  
# OCR Model for Text Perceptual Loss
ocr:
  model_name: "microsoft/trocr-base-printed"
  use_ocr_loss: true
  
# Accelerate
accelerate:
  gradient_accumulation_steps: 1
  mixed_precision: "bf16"
